(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[573],{1104:function(e,a,r){Promise.resolve().then(r.bind(r,4004))},4004:function(e,a,r){"use strict";r.r(a);var l=r(1844),s=r(9190),o=r(5784);let n=()=>{let{newProduct:e}=(0,o.useContext)(s.Z),[a,r]=(0,o.useState)({name:"",description:"",seller:"",price:"",stock:"",category:""}),{name:n,description:t,seller:c,price:d,stock:i,category:u}=a,p=e=>{r({...a,[e.target.name]:e.target.value})},m=r=>{r.preventDefault(),e(a)};return(0,l.jsxs)("section",{className:"container max-w-3xl p-6 mx-auto",children:[(0,l.jsx)("h1",{className:"mb-3 text-xl md:text-3xl font-semibold text-black mb-8",children:"Create New Product"}),(0,l.jsxs)("form",{onSubmit:m,children:[(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block mb-1",children:" Name "}),(0,l.jsx)("input",{type:"text",className:"appearance-none border border-gray-200 bg-gray-100 rounded-md py-2 px-3 hover:border-gray-400 focus:outline-none focus:border-gray-400 w-full",placeholder:"Product name",name:"name",value:n,onChange:p,required:!0})]}),(0,l.jsxs)("div",{className:"mb-4 mt-5",children:[(0,l.jsx)("label",{className:"block mb-1",children:" Description "}),(0,l.jsx)("textarea",{rows:"4",className:"appearance-none border border-gray-200 bg-gray-100 rounded-md py-2 px-3 hover:border-gray-400 focus:outline-none focus:border-gray-400 w-full",placeholder:"Product description",name:"description",value:t,onChange:p,required:!0})]}),(0,l.jsxs)("div",{className:"grid md:grid-cols-2 gap-x-2 mt-5",children:[(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block mb-1",children:" Price "}),(0,l.jsx)("div",{className:"relative",children:(0,l.jsx)("div",{className:"col-span-2",children:(0,l.jsx)("input",{type:"text",className:"appearance-none border border-gray-200 bg-gray-100 rounded-md py-2 px-3 hover:border-gray-400 focus:outline-none focus:border-gray-400 w-full",placeholder:"0.00",name:"price",value:d,onChange:p,required:!0})})})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block mb-1",children:" Category "}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("select",{className:"block appearance-none border border-gray-200 bg-gray-100 rounded-md py-2 px-3 hover:border-gray-400 focus:outline-none focus:border-gray-400 w-full",name:"category",value:u,onChange:p,required:!0,children:["Electronics","Cameras","Laptops","Accessories","Headphones","Sports"].map(e=>(0,l.jsx)("option",{value:e,children:e},e))}),(0,l.jsx)("i",{className:"absolute inset-y-0 right-0 p-2 text-gray-400",children:(0,l.jsx)("svg",{width:"22",height:"22",className:"fill-current",viewBox:"0 0 20 20",children:(0,l.jsx)("path",{d:"M7 10l5 5 5-5H7z"})})})]})]})]}),(0,l.jsxs)("div",{className:"grid md:grid-cols-2 gap-x-2 mt-5",children:[(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block mb-1",children:" Seller / Brand "}),(0,l.jsx)("input",{type:"text",className:"appearance-none border border-gray-200 bg-gray-100 rounded-md py-2 px-3 hover:border-gray-400 focus:outline-none focus:border-gray-400 w-full",placeholder:"Seller or brand",name:"seller",value:c,onChange:p,required:!0})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block mb-1",children:" Stock "}),(0,l.jsx)("div",{className:"relative",children:(0,l.jsx)("div",{className:"col-span-2",children:(0,l.jsx)("input",{type:"text",className:"appearance-none border border-gray-200 bg-gray-100 rounded-md py-2 px-3 hover:border-gray-400 focus:outline-none focus:border-gray-400 w-full",placeholder:"0",name:"stock",value:i,onChange:p,required:!0})})})]})]}),(0,l.jsx)("button",{type:"submit",className:"my-2 px-4 py-2 text-center inline-block text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 w-full",children:"Create Product"})]})]})};a.default=n},9190:function(e,a,r){"use strict";r.d(a,{G:function(){return c}});var l=r(1844),s=r(8433),o=r(9332),n=r(5784);let t=(0,n.createContext)(),c=e=>{let{children:a}=e,[r,c]=(0,n.useState)(null),[d,i]=(0,n.useState)(null),[u,p]=(0,n.useState)(!1),m=(0,o.useRouter)(),b=async(e,a)=>{try{let{data:r}=await s.Z.put("".concat("http://localhost:3000","/api/admin/products/").concat(a),e);r&&(p(!0),m.replace("/admin/products/".concat(a)))}catch(e){var r,l;c(null==e?void 0:null===(r=e.response)||void 0===r?void 0:null===(l=r.data)||void 0===l?void 0:l.message)}},h=async e=>{try{let{data:a}=await s.Z.post("".concat("http://localhost:3000","/api/admin/products"),e);a&&m.replace("/admin/products")}catch(e){var a,r;c(null==e?void 0:null===(a=e.response)||void 0===a?void 0:null===(r=a.data)||void 0===r?void 0:r.message)}},v=async(e,a)=>{try{i(!0);let{data:r}=await s.Z.post("".concat("http://localhost:3000","/api/admin/products/upload_images/").concat(a),e,{headers:{"Content-Type":"multipart/form-data"}});(null==r?void 0:r.data)&&(i(!1),m.replace("/admin/products"))}catch(e){var r,l;c(null==e?void 0:null===(r=e.response)||void 0===r?void 0:null===(l=r.data)||void 0===l?void 0:l.message)}},x=async e=>{try{let{data:a}=await s.Z.delete("".concat("http://localhost:3000","/api/admin/products/").concat(e));(null==a?void 0:a.success)&&m.replace("/admin/products")}catch(e){var a,r;c(null==e?void 0:null===(a=e.response)||void 0===a?void 0:null===(r=a.data)||void 0===r?void 0:r.message)}},g=async e=>{try{let{data:a}=await s.Z.put("".concat("http://localhost:3000","/api/products/review"),e);(null==a?void 0:a.success)&&m.replace("/product/".concat(null==e?void 0:e.productId))}catch(e){var a,r;c(null==e?void 0:null===(a=e.response)||void 0===a?void 0:null===(r=a.data)||void 0===r?void 0:r.message)}},y=()=>{c(null)};return(0,l.jsx)(t.Provider,{value:{error:r,loading:d,updated:u,setUpdated:p,newProduct:h,uploadProductImages:v,updateProduct:b,deleteProduct:x,postReview:g,clearErrors:y},children:a})};a.Z=t}},function(e){e.O(0,[996,17,744],function(){return e(e.s=1104)}),_N_E=e.O()}]);