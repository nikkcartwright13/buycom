(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[565],{5136:function(e,t,r){Promise.resolve().then(r.bind(r,3581))},3581:function(e,t,r){"use strict";r.r(t);var l=r(1844),s=r(5784),n=r(4561),a=r(1664),i=r.n(a);let o=()=>{var e,t,r,a,o;let{addItemToCart:c,deleteItemFromCart:d,cart:u,saveOnCheckout:m}=(0,s.useContext)(n.C),x=e=>{let t=(null==e?void 0:e.quantity)+1,r={...e,quantity:t};t>Number(e.stock)||c(r)},h=e=>{let t=(null==e?void 0:e.quantity)-1,r={...e,quantity:t};t<=0||c(r)},f=null==u?void 0:null===(e=u.cartItems)||void 0===e?void 0:e.reduce((e,t)=>e+t.quantity*t.price,0),p=(.15*f).toFixed(2),g=(Number(f)+Number(p)).toFixed(2),v=()=>{m({amount:f,tax:p,totalAmount:g})};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("section",{className:"py-5 sm:py-7 bg-blue-100",children:(0,l.jsx)("div",{className:"container max-w-screen-xl mx-auto px-4",children:(0,l.jsxs)("h2",{className:"text-3xl font-semibold mb-2",children:[(null==u?void 0:null===(t=u.cartItems)||void 0===t?void 0:t.length)||0," Item(s) in Cart"]})})}),(null==u?void 0:null===(r=u.cartItems)||void 0===r?void 0:r.length)>0&&(0,l.jsx)("section",{className:"py-10",children:(0,l.jsx)("div",{className:"container max-w-screen-xl mx-auto px-4",children:(0,l.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,l.jsx)("main",{className:"md:w-3/4",children:(0,l.jsx)("article",{className:"border border-gray-200 bg-white shadow-sm rounded mb-5 p-3 lg:p-5",children:null==u?void 0:null===(a=u.cartItems)||void 0===a?void 0:a.map(e=>(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex flex-wrap lg:flex-row gap-5 mb-4",children:[(0,l.jsx)("div",{className:"w-full lg:w-2/5 xl:w-2/4",children:(0,l.jsxs)("figure",{className:"flex leading-5",children:[(0,l.jsx)("div",{children:(0,l.jsx)("div",{className:"block w-16 h-16 rounded border border-gray-200 overflow-hidden",children:(0,l.jsx)("img",{src:e.image,alt:e.name})})}),(0,l.jsxs)("figcaption",{className:"ml-3",children:[(0,l.jsx)("p",{children:(0,l.jsx)("a",{href:"#",className:"hover:text-blue-600",children:e.name})}),(0,l.jsxs)("p",{className:"mt-1 text-gray-400",children:[" ","Seller: ",e.seller]})]})]})}),(0,l.jsx)("div",{className:"w-24",children:(0,l.jsxs)("div",{className:"flex flex-row h-10 w-full rounded-lg relative bg-transparent mt-1",children:[(0,l.jsx)("button",{"data-action":"decrement",className:" bg-gray-300 text-gray-600 hover:text-gray-700 hover:bg-gray-400 h-full w-20 rounded-l cursor-pointer outline-none",onClick:()=>h(e),children:(0,l.jsx)("span",{className:"m-auto text-2xl font-thin",children:"âˆ’"})}),(0,l.jsx)("input",{type:"number",className:"outline-none focus:outline-none text-center w-full bg-gray-300 font-semibold text-md hover:text-black focus:text-black md:text-basecursor-default flex items-center text-gray-900 outline-none custom-input-number",name:"custom-input-number",value:e.quantity,readOnly:!0}),(0,l.jsx)("button",{"data-action":"increment",className:"bg-gray-300 text-gray-600 hover:text-gray-700 hover:bg-gray-400 h-full w-20 rounded-r cursor-pointer",onClick:()=>x(e),children:(0,l.jsx)("span",{className:"m-auto text-2xl font-thin",children:"+"})})]})}),(0,l.jsx)("div",{children:(0,l.jsxs)("div",{className:"leading-5",children:[(0,l.jsxs)("p",{className:"font-semibold not-italic",children:["$",e.price*e.quantity.toFixed(2)]}),(0,l.jsxs)("small",{className:"text-gray-400",children:[" ","$",e.price," / per item"," "]})]})}),(0,l.jsx)("div",{className:"flex-auto",children:(0,l.jsx)("div",{className:"float-right",children:(0,l.jsx)("a",{className:"px-4 py-2 inline-block text-red-600 bg-white shadow-sm border border-gray-200 rounded-md hover:bg-gray-100 cursor-pointer",onClick:()=>d(null==e?void 0:e.product),children:"Remove"})})})]}),(0,l.jsx)("hr",{className:"my-4"})]}))})}),(0,l.jsx)("aside",{className:"md:w-1/4",children:(0,l.jsxs)("article",{className:"border border-gray-200 bg-white shadow-sm rounded mb-5 p-3 lg:p-5",children:[(0,l.jsxs)("ul",{className:"mb-5",children:[(0,l.jsxs)("li",{className:"flex justify-between text-gray-600 mb-1",children:[(0,l.jsx)("span",{children:"Amount before Tax:"}),(0,l.jsxs)("span",{children:["$",f]})]}),(0,l.jsxs)("li",{className:"flex justify-between text-gray-600 mb-1",children:[(0,l.jsx)("span",{children:"Total Units:"}),(0,l.jsxs)("span",{className:"text-green-500",children:[null==u?void 0:null===(o=u.cartItems)||void 0===o?void 0:o.reduce((e,t)=>e+t.quantity,0)," ","(Units)"]})]}),(0,l.jsxs)("li",{className:"flex justify-between text-gray-600 mb-1",children:[(0,l.jsx)("span",{children:"TAX:"}),(0,l.jsxs)("span",{children:["$",p]})]}),(0,l.jsxs)("li",{className:"text-lg font-bold border-t flex justify-between mt-3 pt-3",children:[(0,l.jsx)("span",{children:"Total price:"}),(0,l.jsxs)("span",{children:["$",g]})]})]}),(0,l.jsx)("a",{className:"px-4 py-3 mb-2 inline-block text-lg w-full text-center font-medium text-white bg-green-600 border border-transparent rounded-md hover:bg-green-700 cursor-pointer",onClick:v,children:"Continue"}),(0,l.jsx)(i(),{href:"/",className:"px-4 py-3 inline-block text-lg w-full text-center font-medium text-green-600 bg-white shadow-sm border border-gray-200 rounded-md hover:bg-gray-100",children:"Back to shop"})]})})]})})})]})};t.default=o},4561:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var l=r(1844),s=r(9332),n=r(5784);let a=(0,n.createContext)(),i=e=>{let{children:t}=e,[r,i]=(0,n.useState)([]),o=(0,s.useRouter)();(0,n.useEffect)(()=>{c()},[]);let c=()=>{i(localStorage.getItem("cart")?JSON.parse(localStorage.getItem("cart")):[])},d=async e=>{var t,l;let s,{product:n,name:a,price:i,image:o,stock:d,seller:u,quantity:m=1}=e,x={product:n,name:a,price:i,image:o,stock:d,seller:u,quantity:m},h=null==r?void 0:null===(t=r.cartItems)||void 0===t?void 0:t.find(e=>e.product===x.product);s=h?null==r?void 0:null===(l=r.cartItems)||void 0===l?void 0:l.map(e=>e.product===h.product?x:e):[...(null==r?void 0:r.cartItems)||[],x],localStorage.setItem("cart",JSON.stringify({cartItems:s})),c()},u=e=>{var t;let l=null==r?void 0:null===(t=r.cartItems)||void 0===t?void 0:t.filter(t=>t.product!==e);localStorage.setItem("cart",JSON.stringify({cartItems:l})),c()},m=e=>{let{amount:t,tax:l,totalAmount:s}=e,n={...r,checkoutInfo:{amount:t,tax:l,totalAmount:s}};localStorage.setItem("cart",JSON.stringify(n)),c(),o.push("/shipping")},x=()=>{localStorage.removeItem("cart"),c()};return(0,l.jsx)(a.Provider,{value:{cart:r,addItemToCart:d,saveOnCheckout:m,deleteItemFromCart:u,clearCart:x},children:t})};t.C=a},9803:function(e,t,r){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l=r(5784),s=Symbol.for("react.element"),n=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,i=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var l,n={},c=null,d=null;for(l in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)a.call(t,l)&&!o.hasOwnProperty(l)&&(n[l]=t[l]);if(e&&e.defaultProps)for(l in t=e.defaultProps)void 0===n[l]&&(n[l]=t[l]);return{$$typeof:s,type:e,key:c,ref:d,props:n,_owner:i.current}}t.Fragment=n,t.jsx=c,t.jsxs=c},1844:function(e,t,r){"use strict";e.exports=r(9803)},9332:function(e,t,r){e.exports=r(19)}},function(e){e.O(0,[664,17,744],function(){return e(e.s=5136)}),_N_E=e.O()}]);