"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/products";
exports.ids = ["pages/api/products"];
exports.modules = {

/***/ "cloudinary":
/*!*****************************!*\
  !*** external "cloudinary" ***!
  \*****************************/
/***/ ((module) => {

module.exports = require("cloudinary");

/***/ }),

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("mongoose");

/***/ }),

/***/ "next-connect":
/*!*******************************!*\
  !*** external "next-connect" ***!
  \*******************************/
/***/ ((module) => {

module.exports = require("next-connect");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "(api)/./backend/config/dbConnect.js":
/*!*************************************!*\
  !*** ./backend/config/dbConnect.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst dbConnect = ()=>{\n    if ((mongoose__WEBPACK_IMPORTED_MODULE_0___default().connection.readyState) >= 1) {\n        return;\n    }\n    mongoose__WEBPACK_IMPORTED_MODULE_0___default().set(\"strictQuery\", false);\n    mongoose__WEBPACK_IMPORTED_MODULE_0___default().connect(\"mongodb+srv://nikkcartwrighttt:nikkcartwright@nikkcartwright.gdblwyh.mongodb.net/test?retryWrites=true&w=majority\");\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (dbConnect);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9iYWNrZW5kL2NvbmZpZy9kYkNvbm5lY3QuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWdDO0FBRWhDLE1BQU1DLFlBQVksSUFBTTtJQUN0QixJQUFJRCx1RUFBOEIsSUFBSSxHQUFHO1FBQ3ZDO0lBQ0YsQ0FBQztJQUVEQSxtREFBWSxDQUFDLGVBQWUsS0FBSztJQUNqQ0EsdURBQWdCLENBQUNNLG1IQUFrQjtBQUNyQztBQUVBLGlFQUFlTCxTQUFTQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnV0aXRub3cvLi9iYWNrZW5kL2NvbmZpZy9kYkNvbm5lY3QuanM/ZjI3NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSBcIm1vbmdvb3NlXCI7XG5cbmNvbnN0IGRiQ29ubmVjdCA9ICgpID0+IHtcbiAgaWYgKG1vbmdvb3NlLmNvbm5lY3Rpb24ucmVhZHlTdGF0ZSA+PSAxKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgbW9uZ29vc2Uuc2V0KFwic3RyaWN0UXVlcnlcIiwgZmFsc2UpO1xuICBtb25nb29zZS5jb25uZWN0KHByb2Nlc3MuZW52LkRCX1VSSSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBkYkNvbm5lY3Q7XG4iXSwibmFtZXMiOlsibW9uZ29vc2UiLCJkYkNvbm5lY3QiLCJjb25uZWN0aW9uIiwicmVhZHlTdGF0ZSIsInNldCIsImNvbm5lY3QiLCJwcm9jZXNzIiwiZW52IiwiREJfVVJJIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./backend/config/dbConnect.js\n");

/***/ }),

/***/ "(api)/./backend/controllers/productControllers.js":
/*!***************************************************!*\
  !*** ./backend/controllers/productControllers.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"createProductReview\": () => (/* binding */ createProductReview),\n/* harmony export */   \"deleteProduct\": () => (/* binding */ deleteProduct),\n/* harmony export */   \"getProduct\": () => (/* binding */ getProduct),\n/* harmony export */   \"getProducts\": () => (/* binding */ getProducts),\n/* harmony export */   \"newProduct\": () => (/* binding */ newProduct),\n/* harmony export */   \"updateProduct\": () => (/* binding */ updateProduct),\n/* harmony export */   \"uploadProductImages\": () => (/* binding */ uploadProductImages)\n/* harmony export */ });\n/* harmony import */ var _models_product__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../models/product */ \"(api)/./backend/models/product.js\");\n/* harmony import */ var _utils_APIFilters__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/APIFilters */ \"(api)/./backend/utils/APIFilters.js\");\n/* harmony import */ var _utils_cloudinary__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/cloudinary */ \"(api)/./backend/utils/cloudinary.js\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _utils_errorHandler__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/errorHandler */ \"(api)/./backend/utils/errorHandler.js\");\n\n\n\n\n\nconst newProduct = async (req, res, next)=>{\n    req.body.user = req.user._id;\n    const product = await _models_product__WEBPACK_IMPORTED_MODULE_0__[\"default\"].create(req.body);\n    res.status(201).json({\n        product\n    });\n};\nconst getProducts = async (req, res, next)=>{\n    const resPerPage = 4;\n    const productsCount = await _models_product__WEBPACK_IMPORTED_MODULE_0__[\"default\"].countDocuments();\n    const apiFilters = new _utils_APIFilters__WEBPACK_IMPORTED_MODULE_1__[\"default\"](_models_product__WEBPACK_IMPORTED_MODULE_0__[\"default\"].find(), req.query).search().filter();\n    let products = await apiFilters.query;\n    const filteredProductsCount = products.length;\n    apiFilters.pagination(resPerPage);\n    products = await apiFilters.query.clone();\n    res.status(200).json({\n        productsCount,\n        resPerPage,\n        filteredProductsCount,\n        products\n    });\n};\nconst getProduct = async (req, res, next)=>{\n    const product = await _models_product__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findById(req.query.id);\n    if (!product) {\n        return next(new _utils_errorHandler__WEBPACK_IMPORTED_MODULE_4__[\"default\"](\"Product not found.\", 404));\n    }\n    res.status(200).json({\n        product\n    });\n};\nconst uploadProductImages = async (req, res, next)=>{\n    let product = await _models_product__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findById(req.query.id);\n    if (!product) {\n        return next(new _utils_errorHandler__WEBPACK_IMPORTED_MODULE_4__[\"default\"](\"Product not found.\", 404));\n    }\n    const uploader = async (path)=>await (0,_utils_cloudinary__WEBPACK_IMPORTED_MODULE_2__.uploads)(path, \"buyitnow/products\");\n    const urls = [];\n    const files = req.files;\n    for (const file of files){\n        const { path  } = file;\n        const imgUrl = await uploader(path);\n        urls.push(imgUrl);\n        fs__WEBPACK_IMPORTED_MODULE_3___default().unlinkSync(path);\n    }\n    product = await _models_product__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findByIdAndUpdate(req.query.id, {\n        images: urls\n    });\n    res.status(200).json({\n        data: urls,\n        product\n    });\n};\nconst updateProduct = async (req, res, next)=>{\n    let product = await _models_product__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findById(req.query.id);\n    if (!product) {\n        return next(new _utils_errorHandler__WEBPACK_IMPORTED_MODULE_4__[\"default\"](\"Product not found.\", 404));\n    }\n    product = await _models_product__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findByIdAndUpdate(req.query.id, req.body);\n    res.status(200).json({\n        product\n    });\n};\nconst deleteProduct = async (req, res, next)=>{\n    let product = await _models_product__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findById(req.query.id);\n    if (!product) {\n        return next(new _utils_errorHandler__WEBPACK_IMPORTED_MODULE_4__[\"default\"](\"Product not found.\", 404));\n    }\n    // Deleting images associated with the product\n    for(let i = 0; i < product.images.length; i++){\n        const res = await _utils_cloudinary__WEBPACK_IMPORTED_MODULE_2__.cloudinary.v2.uploader.destroy(product.images[i].public_id);\n    }\n    await product.deleteOne();\n    res.status(200).json({\n        success: true\n    });\n};\n// export const createProductReview = async (req, res, next) => {\n//   const { rating, comment, productId } = req.body;\n//   const review = {\n//     user: req?.user?._id,\n//     rating: Number(rating),\n//     comment,\n//   };\n//   let product = await Product.findById(productId);\n//   if (!product) {\n//     return next(new ErrorHandler(\"Product not found.\", 404));\n//   }\n//   const isReviewed = product?.reviews?.find(\n//     (r) => r.user.toString() === req.user._id.toString()\n//   );\n//   if (isReviewed) {\n//     product?.reviews.forEach((review) => {\n//       if (review.user.toString() === req.user._id.toString()) {\n//         review.comment = comment;\n//         review.rating = rating;\n//       }\n//     });\n//   } else {\n//     product?.reviews.push(review);\n//   }\n//   product.ratings =\n//     product?.reviews?.reduce((acc, item) => item.rating + acc, 0) /\n//     product.reviews.length;\n//   await product?.save();\n//   res.status(200).json({\n//     success: true,\n//   });\n// };\nconst createProductReview = async (req, res, next)=>{\n    const { rating , comment , productId  } = req.body;\n    try {\n        const product = await _models_product__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findById(productId);\n        if (!product) {\n            return next(new _utils_errorHandler__WEBPACK_IMPORTED_MODULE_4__[\"default\"](\"Product not found.\", 404));\n        }\n        const user = req?.user;\n        const review = {\n            user: user?._id,\n            username: user?.name || \"defaultUsername\",\n            useravatar: user?.avatar,\n            rating: Number(rating),\n            comment,\n            createdAt: new Date()\n        };\n        const isReviewed = product.reviews.find((r)=>r.user && r.user.toString() === user._id.toString() && r.username === user.name.toString() && r.useravatar === user.avatar.toString());\n        if (isReviewed) {\n            isReviewed.comment = comment;\n            isReviewed.rating = rating;\n        } else {\n            product.reviews.push(review);\n        }\n        product.ratings = product.reviews.reduce((acc, item)=>item.rating + acc, 0) / product.reviews.length;\n        await product.save();\n        res.status(200).json({\n            success: true\n        });\n    } catch (error) {\n        next(error);\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9iYWNrZW5kL2NvbnRyb2xsZXJzL3Byb2R1Y3RDb250cm9sbGVycy5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQXdDO0FBQ0s7QUFDYTtBQUN0QztBQUM2QjtBQUUxQyxNQUFNTSxhQUFhLE9BQU9DLEtBQUtDLEtBQUtDLE9BQVM7SUFDbERGLElBQUlHLElBQUksQ0FBQ0MsSUFBSSxHQUFHSixJQUFJSSxJQUFJLENBQUNDLEdBQUc7SUFFNUIsTUFBTUMsVUFBVSxNQUFNYiw4REFBYyxDQUFDTyxJQUFJRyxJQUFJO0lBQzdDRixJQUFJTyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1FBQ25CSDtJQUNGO0FBQ0YsRUFBRTtBQUVLLE1BQU1JLGNBQWMsT0FBT1YsS0FBS0MsS0FBS0MsT0FBUztJQUNuRCxNQUFNUyxhQUFhO0lBQ25CLE1BQU1DLGdCQUFnQixNQUFNbkIsc0VBQXNCO0lBRWxELE1BQU1xQixhQUFhLElBQUlwQix5REFBVUEsQ0FBQ0QsNERBQVksSUFBSU8sSUFBSWdCLEtBQUssRUFDeERDLE1BQU0sR0FDTkMsTUFBTTtJQUVULElBQUlDLFdBQVcsTUFBTUwsV0FBV0UsS0FBSztJQUNyQyxNQUFNSSx3QkFBd0JELFNBQVNFLE1BQU07SUFFN0NQLFdBQVdRLFVBQVUsQ0FBQ1g7SUFFdEJRLFdBQVcsTUFBTUwsV0FBV0UsS0FBSyxDQUFDTyxLQUFLO0lBRXZDdEIsSUFBSU8sTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztRQUNuQkc7UUFDQUQ7UUFDQVM7UUFDQUQ7SUFDRjtBQUNGLEVBQUU7QUFFSyxNQUFNSyxhQUFhLE9BQU94QixLQUFLQyxLQUFLQyxPQUFTO0lBQ2xELE1BQU1JLFVBQVUsTUFBTWIsZ0VBQWdCLENBQUNPLElBQUlnQixLQUFLLENBQUNVLEVBQUU7SUFFbkQsSUFBSSxDQUFDcEIsU0FBUztRQUNaLE9BQU9KLEtBQUssSUFBSUosMkRBQVlBLENBQUMsc0JBQXNCO0lBQ3JELENBQUM7SUFFREcsSUFBSU8sTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztRQUNuQkg7SUFDRjtBQUNGLEVBQUU7QUFFSyxNQUFNcUIsc0JBQXNCLE9BQU8zQixLQUFLQyxLQUFLQyxPQUFTO0lBQzNELElBQUlJLFVBQVUsTUFBTWIsZ0VBQWdCLENBQUNPLElBQUlnQixLQUFLLENBQUNVLEVBQUU7SUFFakQsSUFBSSxDQUFDcEIsU0FBUztRQUNaLE9BQU9KLEtBQUssSUFBSUosMkRBQVlBLENBQUMsc0JBQXNCO0lBQ3JELENBQUM7SUFFRCxNQUFNOEIsV0FBVyxPQUFPQyxPQUFTLE1BQU1qQywwREFBT0EsQ0FBQ2lDLE1BQU07SUFFckQsTUFBTUMsT0FBTyxFQUFFO0lBQ2YsTUFBTUMsUUFBUS9CLElBQUkrQixLQUFLO0lBRXZCLEtBQUssTUFBTUMsUUFBUUQsTUFBTztRQUN4QixNQUFNLEVBQUVGLEtBQUksRUFBRSxHQUFHRztRQUNqQixNQUFNQyxTQUFTLE1BQU1MLFNBQVNDO1FBQzlCQyxLQUFLSSxJQUFJLENBQUNEO1FBQ1ZwQyxvREFBYSxDQUFDZ0M7SUFDaEI7SUFFQXZCLFVBQVUsTUFBTWIseUVBQXlCLENBQUNPLElBQUlnQixLQUFLLENBQUNVLEVBQUUsRUFBRTtRQUN0RFcsUUFBUVA7SUFDVjtJQUVBN0IsSUFBSU8sTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztRQUNuQjZCLE1BQU1SO1FBQ054QjtJQUNGO0FBQ0YsRUFBRTtBQUVLLE1BQU1pQyxnQkFBZ0IsT0FBT3ZDLEtBQUtDLEtBQUtDLE9BQVM7SUFDckQsSUFBSUksVUFBVSxNQUFNYixnRUFBZ0IsQ0FBQ08sSUFBSWdCLEtBQUssQ0FBQ1UsRUFBRTtJQUVqRCxJQUFJLENBQUNwQixTQUFTO1FBQ1osT0FBT0osS0FBSyxJQUFJSiwyREFBWUEsQ0FBQyxzQkFBc0I7SUFDckQsQ0FBQztJQUVEUSxVQUFVLE1BQU1iLHlFQUF5QixDQUFDTyxJQUFJZ0IsS0FBSyxDQUFDVSxFQUFFLEVBQUUxQixJQUFJRyxJQUFJO0lBRWhFRixJQUFJTyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1FBQ25CSDtJQUNGO0FBQ0YsRUFBRTtBQUVLLE1BQU1rQyxnQkFBZ0IsT0FBT3hDLEtBQUtDLEtBQUtDLE9BQVM7SUFDckQsSUFBSUksVUFBVSxNQUFNYixnRUFBZ0IsQ0FBQ08sSUFBSWdCLEtBQUssQ0FBQ1UsRUFBRTtJQUVqRCxJQUFJLENBQUNwQixTQUFTO1FBQ1osT0FBT0osS0FBSyxJQUFJSiwyREFBWUEsQ0FBQyxzQkFBc0I7SUFDckQsQ0FBQztJQUVELDhDQUE4QztJQUM5QyxJQUFLLElBQUkyQyxJQUFJLEdBQUdBLElBQUluQyxRQUFRK0IsTUFBTSxDQUFDaEIsTUFBTSxFQUFFb0IsSUFBSztRQUM5QyxNQUFNeEMsTUFBTSxNQUFNTiw2RUFBOEIsQ0FDOUNXLFFBQVErQixNQUFNLENBQUNJLEVBQUUsQ0FBQ0csU0FBUztJQUUvQjtJQUVBLE1BQU10QyxRQUFRdUMsU0FBUztJQUV2QjVDLElBQUlPLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7UUFDbkJxQyxTQUFTLElBQUk7SUFDZjtBQUNGLEVBQUU7QUFFRixpRUFBaUU7QUFDakUscURBQXFEO0FBRXJELHFCQUFxQjtBQUNyQiw0QkFBNEI7QUFDNUIsOEJBQThCO0FBQzlCLGVBQWU7QUFDZixPQUFPO0FBRVAscURBQXFEO0FBRXJELG9CQUFvQjtBQUNwQixnRUFBZ0U7QUFDaEUsTUFBTTtBQUVOLCtDQUErQztBQUMvQywyREFBMkQ7QUFDM0QsT0FBTztBQUVQLHNCQUFzQjtBQUN0Qiw2Q0FBNkM7QUFDN0Msa0VBQWtFO0FBQ2xFLG9DQUFvQztBQUNwQyxrQ0FBa0M7QUFDbEMsVUFBVTtBQUNWLFVBQVU7QUFDVixhQUFhO0FBQ2IscUNBQXFDO0FBQ3JDLE1BQU07QUFFTixzQkFBc0I7QUFDdEIsc0VBQXNFO0FBQ3RFLDhCQUE4QjtBQUU5QiwyQkFBMkI7QUFFM0IsMkJBQTJCO0FBQzNCLHFCQUFxQjtBQUNyQixRQUFRO0FBQ1IsS0FBSztBQUVFLE1BQU1DLHNCQUFzQixPQUFPL0MsS0FBS0MsS0FBS0MsT0FBUztJQUMzRCxNQUFNLEVBQUU4QyxPQUFNLEVBQUVDLFFBQU8sRUFBRUMsVUFBUyxFQUFFLEdBQUdsRCxJQUFJRyxJQUFJO0lBRS9DLElBQUk7UUFDRixNQUFNRyxVQUFVLE1BQU1iLGdFQUFnQixDQUFDeUQ7UUFFdkMsSUFBSSxDQUFDNUMsU0FBUztZQUNaLE9BQU9KLEtBQUssSUFBSUosMkRBQVlBLENBQUMsc0JBQXNCO1FBQ3JELENBQUM7UUFFRCxNQUFNTSxPQUFPSixLQUFLSTtRQUNsQixNQUFNK0MsU0FBUztZQUNiL0MsTUFBTUEsTUFBTUM7WUFDWitDLFVBQVVoRCxNQUFNaUQsUUFBUTtZQUN4QkMsWUFBWWxELE1BQU1tRDtZQUNsQlAsUUFBUVEsT0FBT1I7WUFDZkM7WUFDQVEsV0FBVyxJQUFJQztRQUNqQjtRQUVBLE1BQU1DLGFBQWFyRCxRQUFRc0QsT0FBTyxDQUFDN0MsSUFBSSxDQUNyQyxDQUFDOEMsSUFBTUEsRUFBRXpELElBQUksSUFBSXlELEVBQUV6RCxJQUFJLENBQUMwRCxRQUFRLE9BQU8xRCxLQUFLQyxHQUFHLENBQUN5RCxRQUFRLE1BQU1ELEVBQUVULFFBQVEsS0FBS2hELEtBQUtpRCxJQUFJLENBQUNTLFFBQVEsTUFBTUQsRUFBRVAsVUFBVSxLQUFLbEQsS0FBS21ELE1BQU0sQ0FBQ08sUUFBUTtRQUk1SSxJQUFJSCxZQUFZO1lBQ2RBLFdBQVdWLE9BQU8sR0FBR0E7WUFDckJVLFdBQVdYLE1BQU0sR0FBR0E7UUFDdEIsT0FBTztZQUNMMUMsUUFBUXNELE9BQU8sQ0FBQzFCLElBQUksQ0FBQ2lCO1FBQ3ZCLENBQUM7UUFFRDdDLFFBQVF5RCxPQUFPLEdBQ2J6RCxRQUFRc0QsT0FBTyxDQUFDSSxNQUFNLENBQUMsQ0FBQ0MsS0FBS0MsT0FBU0EsS0FBS2xCLE1BQU0sR0FBR2lCLEtBQUssS0FDekQzRCxRQUFRc0QsT0FBTyxDQUFDdkMsTUFBTTtRQUV4QixNQUFNZixRQUFRNkQsSUFBSTtRQUVsQmxFLElBQUlPLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFDbkJxQyxTQUFTLElBQUk7UUFDZjtJQUNGLEVBQUUsT0FBT3NCLE9BQU87UUFDZGxFLEtBQUtrRTtJQUNQO0FBQ0YsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL2J1dGl0bm93Ly4vYmFja2VuZC9jb250cm9sbGVycy9wcm9kdWN0Q29udHJvbGxlcnMuanM/NmZjMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUHJvZHVjdCBmcm9tIFwiLi4vbW9kZWxzL3Byb2R1Y3RcIjtcbmltcG9ydCBBUElGaWx0ZXJzIGZyb20gXCIuLi91dGlscy9BUElGaWx0ZXJzXCI7XG5pbXBvcnQgeyBjbG91ZGluYXJ5LCB1cGxvYWRzIH0gZnJvbSBcIi4uL3V0aWxzL2Nsb3VkaW5hcnlcIjtcbmltcG9ydCBmcyBmcm9tIFwiZnNcIjtcbmltcG9ydCBFcnJvckhhbmRsZXIgZnJvbSBcIi4uL3V0aWxzL2Vycm9ySGFuZGxlclwiO1xuXG5leHBvcnQgY29uc3QgbmV3UHJvZHVjdCA9IGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICByZXEuYm9keS51c2VyID0gcmVxLnVzZXIuX2lkO1xuXG4gIGNvbnN0IHByb2R1Y3QgPSBhd2FpdCBQcm9kdWN0LmNyZWF0ZShyZXEuYm9keSk7XG4gIHJlcy5zdGF0dXMoMjAxKS5qc29uKHtcbiAgICBwcm9kdWN0LFxuICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRQcm9kdWN0cyA9IGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICBjb25zdCByZXNQZXJQYWdlID0gNDtcbiAgY29uc3QgcHJvZHVjdHNDb3VudCA9IGF3YWl0IFByb2R1Y3QuY291bnREb2N1bWVudHMoKTtcblxuICBjb25zdCBhcGlGaWx0ZXJzID0gbmV3IEFQSUZpbHRlcnMoUHJvZHVjdC5maW5kKCksIHJlcS5xdWVyeSlcbiAgICAuc2VhcmNoKClcbiAgICAuZmlsdGVyKCk7XG5cbiAgbGV0IHByb2R1Y3RzID0gYXdhaXQgYXBpRmlsdGVycy5xdWVyeTtcbiAgY29uc3QgZmlsdGVyZWRQcm9kdWN0c0NvdW50ID0gcHJvZHVjdHMubGVuZ3RoO1xuXG4gIGFwaUZpbHRlcnMucGFnaW5hdGlvbihyZXNQZXJQYWdlKTtcblxuICBwcm9kdWN0cyA9IGF3YWl0IGFwaUZpbHRlcnMucXVlcnkuY2xvbmUoKTtcblxuICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgcHJvZHVjdHNDb3VudCxcbiAgICByZXNQZXJQYWdlLFxuICAgIGZpbHRlcmVkUHJvZHVjdHNDb3VudCxcbiAgICBwcm9kdWN0cyxcbiAgfSk7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0UHJvZHVjdCA9IGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICBjb25zdCBwcm9kdWN0ID0gYXdhaXQgUHJvZHVjdC5maW5kQnlJZChyZXEucXVlcnkuaWQpO1xuXG4gIGlmICghcHJvZHVjdCkge1xuICAgIHJldHVybiBuZXh0KG5ldyBFcnJvckhhbmRsZXIoXCJQcm9kdWN0IG5vdCBmb3VuZC5cIiwgNDA0KSk7XG4gIH1cblxuICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgcHJvZHVjdCxcbiAgfSk7XG59O1xuXG5leHBvcnQgY29uc3QgdXBsb2FkUHJvZHVjdEltYWdlcyA9IGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICBsZXQgcHJvZHVjdCA9IGF3YWl0IFByb2R1Y3QuZmluZEJ5SWQocmVxLnF1ZXJ5LmlkKTtcblxuICBpZiAoIXByb2R1Y3QpIHtcbiAgICByZXR1cm4gbmV4dChuZXcgRXJyb3JIYW5kbGVyKFwiUHJvZHVjdCBub3QgZm91bmQuXCIsIDQwNCkpO1xuICB9XG5cbiAgY29uc3QgdXBsb2FkZXIgPSBhc3luYyAocGF0aCkgPT4gYXdhaXQgdXBsb2FkcyhwYXRoLCBcImJ1eWl0bm93L3Byb2R1Y3RzXCIpO1xuXG4gIGNvbnN0IHVybHMgPSBbXTtcbiAgY29uc3QgZmlsZXMgPSByZXEuZmlsZXM7XG5cbiAgZm9yIChjb25zdCBmaWxlIG9mIGZpbGVzKSB7XG4gICAgY29uc3QgeyBwYXRoIH0gPSBmaWxlO1xuICAgIGNvbnN0IGltZ1VybCA9IGF3YWl0IHVwbG9hZGVyKHBhdGgpO1xuICAgIHVybHMucHVzaChpbWdVcmwpO1xuICAgIGZzLnVubGlua1N5bmMocGF0aCk7XG4gIH1cblxuICBwcm9kdWN0ID0gYXdhaXQgUHJvZHVjdC5maW5kQnlJZEFuZFVwZGF0ZShyZXEucXVlcnkuaWQsIHtcbiAgICBpbWFnZXM6IHVybHMsXG4gIH0pO1xuXG4gIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICBkYXRhOiB1cmxzLFxuICAgIHByb2R1Y3QsXG4gIH0pO1xufTtcblxuZXhwb3J0IGNvbnN0IHVwZGF0ZVByb2R1Y3QgPSBhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgbGV0IHByb2R1Y3QgPSBhd2FpdCBQcm9kdWN0LmZpbmRCeUlkKHJlcS5xdWVyeS5pZCk7XG5cbiAgaWYgKCFwcm9kdWN0KSB7XG4gICAgcmV0dXJuIG5leHQobmV3IEVycm9ySGFuZGxlcihcIlByb2R1Y3Qgbm90IGZvdW5kLlwiLCA0MDQpKTtcbiAgfVxuXG4gIHByb2R1Y3QgPSBhd2FpdCBQcm9kdWN0LmZpbmRCeUlkQW5kVXBkYXRlKHJlcS5xdWVyeS5pZCwgcmVxLmJvZHkpO1xuXG4gIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICBwcm9kdWN0LFxuICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBkZWxldGVQcm9kdWN0ID0gYXN5bmMgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIGxldCBwcm9kdWN0ID0gYXdhaXQgUHJvZHVjdC5maW5kQnlJZChyZXEucXVlcnkuaWQpO1xuXG4gIGlmICghcHJvZHVjdCkge1xuICAgIHJldHVybiBuZXh0KG5ldyBFcnJvckhhbmRsZXIoXCJQcm9kdWN0IG5vdCBmb3VuZC5cIiwgNDA0KSk7XG4gIH1cblxuICAvLyBEZWxldGluZyBpbWFnZXMgYXNzb2NpYXRlZCB3aXRoIHRoZSBwcm9kdWN0XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvZHVjdC5pbWFnZXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBjbG91ZGluYXJ5LnYyLnVwbG9hZGVyLmRlc3Ryb3koXG4gICAgICBwcm9kdWN0LmltYWdlc1tpXS5wdWJsaWNfaWRcbiAgICApO1xuICB9XG5cbiAgYXdhaXQgcHJvZHVjdC5kZWxldGVPbmUoKTtcblxuICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgc3VjY2VzczogdHJ1ZSxcbiAgfSk7XG59O1xuXG4vLyBleHBvcnQgY29uc3QgY3JlYXRlUHJvZHVjdFJldmlldyA9IGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuLy8gICBjb25zdCB7IHJhdGluZywgY29tbWVudCwgcHJvZHVjdElkIH0gPSByZXEuYm9keTtcblxuLy8gICBjb25zdCByZXZpZXcgPSB7XG4vLyAgICAgdXNlcjogcmVxPy51c2VyPy5faWQsXG4vLyAgICAgcmF0aW5nOiBOdW1iZXIocmF0aW5nKSxcbi8vICAgICBjb21tZW50LFxuLy8gICB9O1xuXG4vLyAgIGxldCBwcm9kdWN0ID0gYXdhaXQgUHJvZHVjdC5maW5kQnlJZChwcm9kdWN0SWQpO1xuXG4vLyAgIGlmICghcHJvZHVjdCkge1xuLy8gICAgIHJldHVybiBuZXh0KG5ldyBFcnJvckhhbmRsZXIoXCJQcm9kdWN0IG5vdCBmb3VuZC5cIiwgNDA0KSk7XG4vLyAgIH1cblxuLy8gICBjb25zdCBpc1Jldmlld2VkID0gcHJvZHVjdD8ucmV2aWV3cz8uZmluZChcbi8vICAgICAocikgPT4gci51c2VyLnRvU3RyaW5nKCkgPT09IHJlcS51c2VyLl9pZC50b1N0cmluZygpXG4vLyAgICk7XG5cbi8vICAgaWYgKGlzUmV2aWV3ZWQpIHtcbi8vICAgICBwcm9kdWN0Py5yZXZpZXdzLmZvckVhY2goKHJldmlldykgPT4ge1xuLy8gICAgICAgaWYgKHJldmlldy51c2VyLnRvU3RyaW5nKCkgPT09IHJlcS51c2VyLl9pZC50b1N0cmluZygpKSB7XG4vLyAgICAgICAgIHJldmlldy5jb21tZW50ID0gY29tbWVudDtcbi8vICAgICAgICAgcmV2aWV3LnJhdGluZyA9IHJhdGluZztcbi8vICAgICAgIH1cbi8vICAgICB9KTtcbi8vICAgfSBlbHNlIHtcbi8vICAgICBwcm9kdWN0Py5yZXZpZXdzLnB1c2gocmV2aWV3KTtcbi8vICAgfVxuXG4vLyAgIHByb2R1Y3QucmF0aW5ncyA9XG4vLyAgICAgcHJvZHVjdD8ucmV2aWV3cz8ucmVkdWNlKChhY2MsIGl0ZW0pID0+IGl0ZW0ucmF0aW5nICsgYWNjLCAwKSAvXG4vLyAgICAgcHJvZHVjdC5yZXZpZXdzLmxlbmd0aDtcblxuLy8gICBhd2FpdCBwcm9kdWN0Py5zYXZlKCk7XG5cbi8vICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuLy8gICAgIHN1Y2Nlc3M6IHRydWUsXG4vLyAgIH0pO1xuLy8gfTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZVByb2R1Y3RSZXZpZXcgPSBhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgY29uc3QgeyByYXRpbmcsIGNvbW1lbnQsIHByb2R1Y3RJZCB9ID0gcmVxLmJvZHk7XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBwcm9kdWN0ID0gYXdhaXQgUHJvZHVjdC5maW5kQnlJZChwcm9kdWN0SWQpO1xuXG4gICAgaWYgKCFwcm9kdWN0KSB7XG4gICAgICByZXR1cm4gbmV4dChuZXcgRXJyb3JIYW5kbGVyKFwiUHJvZHVjdCBub3QgZm91bmQuXCIsIDQwNCkpO1xuICAgIH1cblxuICAgIGNvbnN0IHVzZXIgPSByZXE/LnVzZXI7XG4gICAgY29uc3QgcmV2aWV3ID0ge1xuICAgICAgdXNlcjogdXNlcj8uX2lkLFxuICAgICAgdXNlcm5hbWU6IHVzZXI/Lm5hbWUgfHwgXCJkZWZhdWx0VXNlcm5hbWVcIixcbiAgICAgIHVzZXJhdmF0YXI6IHVzZXI/LmF2YXRhcixcbiAgICAgIHJhdGluZzogTnVtYmVyKHJhdGluZyksXG4gICAgICBjb21tZW50LFxuICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgIH07XG5cbiAgICBjb25zdCBpc1Jldmlld2VkID0gcHJvZHVjdC5yZXZpZXdzLmZpbmQoXG4gICAgICAocikgPT4gci51c2VyICYmIHIudXNlci50b1N0cmluZygpID09PSB1c2VyLl9pZC50b1N0cmluZygpICYmIHIudXNlcm5hbWUgPT09IHVzZXIubmFtZS50b1N0cmluZygpICYmIHIudXNlcmF2YXRhciA9PT0gdXNlci5hdmF0YXIudG9TdHJpbmcoKVxuICAgICk7XG4gICAgXG4gICAgXG4gICAgaWYgKGlzUmV2aWV3ZWQpIHtcbiAgICAgIGlzUmV2aWV3ZWQuY29tbWVudCA9IGNvbW1lbnQ7XG4gICAgICBpc1Jldmlld2VkLnJhdGluZyA9IHJhdGluZztcbiAgICB9IGVsc2Uge1xuICAgICAgcHJvZHVjdC5yZXZpZXdzLnB1c2gocmV2aWV3KTtcbiAgICB9XG4gICAgXG4gICAgcHJvZHVjdC5yYXRpbmdzID1cbiAgICAgIHByb2R1Y3QucmV2aWV3cy5yZWR1Y2UoKGFjYywgaXRlbSkgPT4gaXRlbS5yYXRpbmcgKyBhY2MsIDApIC9cbiAgICAgIHByb2R1Y3QucmV2aWV3cy5sZW5ndGg7XG5cbiAgICBhd2FpdCBwcm9kdWN0LnNhdmUoKTtcblxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbmV4dChlcnJvcik7XG4gIH1cbn07XG5cbiJdLCJuYW1lcyI6WyJQcm9kdWN0IiwiQVBJRmlsdGVycyIsImNsb3VkaW5hcnkiLCJ1cGxvYWRzIiwiZnMiLCJFcnJvckhhbmRsZXIiLCJuZXdQcm9kdWN0IiwicmVxIiwicmVzIiwibmV4dCIsImJvZHkiLCJ1c2VyIiwiX2lkIiwicHJvZHVjdCIsImNyZWF0ZSIsInN0YXR1cyIsImpzb24iLCJnZXRQcm9kdWN0cyIsInJlc1BlclBhZ2UiLCJwcm9kdWN0c0NvdW50IiwiY291bnREb2N1bWVudHMiLCJhcGlGaWx0ZXJzIiwiZmluZCIsInF1ZXJ5Iiwic2VhcmNoIiwiZmlsdGVyIiwicHJvZHVjdHMiLCJmaWx0ZXJlZFByb2R1Y3RzQ291bnQiLCJsZW5ndGgiLCJwYWdpbmF0aW9uIiwiY2xvbmUiLCJnZXRQcm9kdWN0IiwiZmluZEJ5SWQiLCJpZCIsInVwbG9hZFByb2R1Y3RJbWFnZXMiLCJ1cGxvYWRlciIsInBhdGgiLCJ1cmxzIiwiZmlsZXMiLCJmaWxlIiwiaW1nVXJsIiwicHVzaCIsInVubGlua1N5bmMiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsImltYWdlcyIsImRhdGEiLCJ1cGRhdGVQcm9kdWN0IiwiZGVsZXRlUHJvZHVjdCIsImkiLCJ2MiIsImRlc3Ryb3kiLCJwdWJsaWNfaWQiLCJkZWxldGVPbmUiLCJzdWNjZXNzIiwiY3JlYXRlUHJvZHVjdFJldmlldyIsInJhdGluZyIsImNvbW1lbnQiLCJwcm9kdWN0SWQiLCJyZXZpZXciLCJ1c2VybmFtZSIsIm5hbWUiLCJ1c2VyYXZhdGFyIiwiYXZhdGFyIiwiTnVtYmVyIiwiY3JlYXRlZEF0IiwiRGF0ZSIsImlzUmV2aWV3ZWQiLCJyZXZpZXdzIiwiciIsInRvU3RyaW5nIiwicmF0aW5ncyIsInJlZHVjZSIsImFjYyIsIml0ZW0iLCJzYXZlIiwiZXJyb3IiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./backend/controllers/productControllers.js\n");

/***/ }),

/***/ "(api)/./backend/middlewares/errors.js":
/*!***************************************!*\
  !*** ./backend/middlewares/errors.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_errorHandler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/errorHandler */ \"(api)/./backend/utils/errorHandler.js\");\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((err, req, res, next)=>{\n    let error = {\n        ...err\n    };\n    error.statusCode = err.statusCode || 500;\n    error.message = err.message || \"Internal Server Error\";\n    if (err.name == \"ValidationError\") {\n        const message = Object.values(err.errors).map((value)=>value.message);\n        error = new _utils_errorHandler__WEBPACK_IMPORTED_MODULE_0__[\"default\"](message, 400);\n    }\n    if (err.code == 11000) {\n        const message = `Duplicate ${Object.keys(err.keyValue)} entered`;\n        error = new _utils_errorHandler__WEBPACK_IMPORTED_MODULE_0__[\"default\"](message, 400);\n    }\n    res.status(error.statusCode).json({\n        success: false,\n        error,\n        message: error.message,\n        stack: error.stack\n    });\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9iYWNrZW5kL21pZGRsZXdhcmVzL2Vycm9ycy5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFpRDtBQUVqRCxpRUFBZSxDQUFDQyxLQUFLQyxLQUFLQyxLQUFLQyxPQUFTO0lBQ3RDLElBQUlDLFFBQVE7UUFBRSxHQUFHSixHQUFHO0lBQUM7SUFFckJJLE1BQU1DLFVBQVUsR0FBR0wsSUFBSUssVUFBVSxJQUFJO0lBQ3JDRCxNQUFNRSxPQUFPLEdBQUdOLElBQUlNLE9BQU8sSUFBSTtJQUUvQixJQUFJTixJQUFJTyxJQUFJLElBQUksbUJBQW1CO1FBQ2pDLE1BQU1ELFVBQVVFLE9BQU9DLE1BQU0sQ0FBQ1QsSUFBSVUsTUFBTSxFQUFFQyxHQUFHLENBQUMsQ0FBQ0MsUUFBVUEsTUFBTU4sT0FBTztRQUN0RUYsUUFBUSxJQUFJTCwyREFBWUEsQ0FBQ08sU0FBUztJQUNwQyxDQUFDO0lBRUQsSUFBSU4sSUFBSWEsSUFBSSxJQUFJLE9BQU87UUFDckIsTUFBTVAsVUFBVSxDQUFDLFVBQVUsRUFBRUUsT0FBT00sSUFBSSxDQUFDZCxJQUFJZSxRQUFRLEVBQUUsUUFBUSxDQUFDO1FBQ2hFWCxRQUFRLElBQUlMLDJEQUFZQSxDQUFDTyxTQUFTO0lBQ3BDLENBQUM7SUFFREosSUFBSWMsTUFBTSxDQUFDWixNQUFNQyxVQUFVLEVBQUVZLElBQUksQ0FBQztRQUNoQ0MsU0FBUyxLQUFLO1FBQ2RkO1FBQ0FFLFNBQVNGLE1BQU1FLE9BQU87UUFDdEJhLE9BQU9mLE1BQU1lLEtBQUs7SUFDcEI7QUFDRixHQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnV0aXRub3cvLi9iYWNrZW5kL21pZGRsZXdhcmVzL2Vycm9ycy5qcz9jOTdkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBFcnJvckhhbmRsZXIgZnJvbSBcIi4uL3V0aWxzL2Vycm9ySGFuZGxlclwiO1xuXG5leHBvcnQgZGVmYXVsdCAoZXJyLCByZXEsIHJlcywgbmV4dCkgPT4ge1xuICBsZXQgZXJyb3IgPSB7IC4uLmVyciB9O1xuXG4gIGVycm9yLnN0YXR1c0NvZGUgPSBlcnIuc3RhdHVzQ29kZSB8fCA1MDA7XG4gIGVycm9yLm1lc3NhZ2UgPSBlcnIubWVzc2FnZSB8fCBcIkludGVybmFsIFNlcnZlciBFcnJvclwiO1xuXG4gIGlmIChlcnIubmFtZSA9PSBcIlZhbGlkYXRpb25FcnJvclwiKSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IE9iamVjdC52YWx1ZXMoZXJyLmVycm9ycykubWFwKCh2YWx1ZSkgPT4gdmFsdWUubWVzc2FnZSk7XG4gICAgZXJyb3IgPSBuZXcgRXJyb3JIYW5kbGVyKG1lc3NhZ2UsIDQwMCk7XG4gIH1cblxuICBpZiAoZXJyLmNvZGUgPT0gMTEwMDApIHtcbiAgICBjb25zdCBtZXNzYWdlID0gYER1cGxpY2F0ZSAke09iamVjdC5rZXlzKGVyci5rZXlWYWx1ZSl9IGVudGVyZWRgO1xuICAgIGVycm9yID0gbmV3IEVycm9ySGFuZGxlcihtZXNzYWdlLCA0MDApO1xuICB9XG5cbiAgcmVzLnN0YXR1cyhlcnJvci5zdGF0dXNDb2RlKS5qc29uKHtcbiAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICBlcnJvcixcbiAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxuICAgIHN0YWNrOiBlcnJvci5zdGFjayxcbiAgfSk7XG59O1xuIl0sIm5hbWVzIjpbIkVycm9ySGFuZGxlciIsImVyciIsInJlcSIsInJlcyIsIm5leHQiLCJlcnJvciIsInN0YXR1c0NvZGUiLCJtZXNzYWdlIiwibmFtZSIsIk9iamVjdCIsInZhbHVlcyIsImVycm9ycyIsIm1hcCIsInZhbHVlIiwiY29kZSIsImtleXMiLCJrZXlWYWx1ZSIsInN0YXR1cyIsImpzb24iLCJzdWNjZXNzIiwic3RhY2siXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./backend/middlewares/errors.js\n");

/***/ }),

/***/ "(api)/./backend/models/product.js":
/*!***********************************!*\
  !*** ./backend/models/product.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst productSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    name: {\n        type: String,\n        required: [\n            true,\n            \"Please enter product name\"\n        ]\n    },\n    description: {\n        type: String,\n        required: [\n            true,\n            \"Please enter product description\"\n        ]\n    },\n    price: {\n        type: Number,\n        required: [\n            true,\n            \"Please enter product price\"\n        ]\n    },\n    images: [\n        {\n            public_id: {\n                type: String\n            },\n            url: {\n                type: String\n            }\n        }\n    ],\n    category: {\n        type: String,\n        required: [\n            true,\n            \"Please enter product category\"\n        ],\n        enum: {\n            values: [\n                \"Electronics\",\n                \"Cameras\",\n                \"Laptops\",\n                \"Accessories\",\n                \"Headphones\",\n                \"Sports\"\n            ],\n            message: \"Please select correct category\"\n        }\n    },\n    seller: {\n        type: String,\n        required: [\n            true,\n            \"Please enter product seller\"\n        ]\n    },\n    stock: {\n        type: Number,\n        required: [\n            true,\n            \"Please enter product stock\"\n        ]\n    },\n    ratings: {\n        type: Number,\n        default: 0\n    },\n    reviews: [\n        {\n            user: {\n                type: (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema.Types.ObjectId),\n                ref: \"User\",\n                required: true\n            },\n            username: {\n                type: String,\n                required: true\n            },\n            useravatar: {\n                public_id: String,\n                url: String\n            },\n            rating: {\n                type: Number,\n                required: true\n            },\n            comment: {\n                type: String,\n                required: true\n            },\n            createdAt: {\n                type: Date,\n                default: Date.now\n            }\n        }\n    ],\n    user: {\n        type: (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema.Types.ObjectId),\n        ref: \"User\",\n        required: false\n    },\n    createdAt: {\n        type: Date,\n        default: Date.now\n    }\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((mongoose__WEBPACK_IMPORTED_MODULE_0___default().models.Product) || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"Product\", productSchema));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9iYWNrZW5kL21vZGVscy9wcm9kdWN0LmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFnQztBQUVoQyxNQUFNQyxnQkFBZ0IsSUFBSUQsd0RBQWUsQ0FBQztJQUN4Q0csTUFBTTtRQUNKQyxNQUFNQztRQUNOQyxVQUFVO1lBQUMsSUFBSTtZQUFFO1NBQTRCO0lBQy9DO0lBQ0FDLGFBQWE7UUFDWEgsTUFBTUM7UUFDTkMsVUFBVTtZQUFDLElBQUk7WUFBRTtTQUFtQztJQUN0RDtJQUNBRSxPQUFPO1FBQ0xKLE1BQU1LO1FBQ05ILFVBQVU7WUFBQyxJQUFJO1lBQUU7U0FBNkI7SUFDaEQ7SUFDQUksUUFBUTtRQUNOO1lBQ0VDLFdBQVc7Z0JBQ1RQLE1BQU1DO1lBQ1I7WUFDQU8sS0FBSztnQkFDSFIsTUFBTUM7WUFDUjtRQUNGO0tBQ0Q7SUFFRFEsVUFBVTtRQUNSVCxNQUFNQztRQUNOQyxVQUFVO1lBQUMsSUFBSTtZQUFFO1NBQWdDO1FBQ2pEUSxNQUFNO1lBQ0pDLFFBQVE7Z0JBQ047Z0JBQ0E7Z0JBQ0E7Z0JBQ0E7Z0JBQ0E7Z0JBQ0E7YUFDRDtZQUNEQyxTQUFTO1FBQ1g7SUFDRjtJQUNBQyxRQUFRO1FBQ05iLE1BQU1DO1FBQ05DLFVBQVU7WUFBQyxJQUFJO1lBQUU7U0FBOEI7SUFDakQ7SUFDQVksT0FBTztRQUNMZCxNQUFNSztRQUNOSCxVQUFVO1lBQUMsSUFBSTtZQUFFO1NBQTZCO0lBQ2hEO0lBQ0FhLFNBQVM7UUFDUGYsTUFBTUs7UUFDTlcsU0FBUztJQUNYO0lBQ0FDLFNBQVM7UUFDUDtZQUNFQyxNQUFNO2dCQUNKbEIsTUFBTUosdUVBQThCO2dCQUNwQ3lCLEtBQUs7Z0JBQ0xuQixVQUFVLElBQUk7WUFDaEI7WUFDQW9CLFVBQVU7Z0JBQ1J0QixNQUFNQztnQkFDTkMsVUFBVSxJQUFJO1lBQ2hCO1lBQ0FxQixZQUFZO2dCQUNWaEIsV0FBV047Z0JBQ1hPLEtBQUtQO1lBQ1A7WUFDQXVCLFFBQVE7Z0JBQ054QixNQUFNSztnQkFDTkgsVUFBVSxJQUFJO1lBQ2hCO1lBQ0F1QixTQUFTO2dCQUNQekIsTUFBTUM7Z0JBQ05DLFVBQVUsSUFBSTtZQUNoQjtZQUNBd0IsV0FBVztnQkFDVDFCLE1BQU0yQjtnQkFDTlgsU0FBU1csS0FBS0MsR0FBRztZQUNuQjtRQUNGO0tBQ0Q7SUFDRFYsTUFBTTtRQUNKbEIsTUFBTUosdUVBQThCO1FBQ3BDeUIsS0FBSztRQUNMbkIsVUFBVSxLQUFLO0lBQ2pCO0lBQ0F3QixXQUFXO1FBQ1QxQixNQUFNMkI7UUFDTlgsU0FBU1csS0FBS0MsR0FBRztJQUNuQjtBQUNGO0FBRUEsaUVBQWVoQyxnRUFBdUIsSUFDcENBLHFEQUFjLENBQUMsV0FBV0MsY0FBY0EsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2J1dGl0bm93Ly4vYmFja2VuZC9tb2RlbHMvcHJvZHVjdC5qcz80MzdiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tIFwibW9uZ29vc2VcIjtcblxuY29uc3QgcHJvZHVjdFNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xuICBuYW1lOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIHJlcXVpcmVkOiBbdHJ1ZSwgXCJQbGVhc2UgZW50ZXIgcHJvZHVjdCBuYW1lXCJdLFxuICB9LFxuICBkZXNjcmlwdGlvbjoge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICByZXF1aXJlZDogW3RydWUsIFwiUGxlYXNlIGVudGVyIHByb2R1Y3QgZGVzY3JpcHRpb25cIl0sXG4gIH0sXG4gIHByaWNlOiB7XG4gICAgdHlwZTogTnVtYmVyLFxuICAgIHJlcXVpcmVkOiBbdHJ1ZSwgXCJQbGVhc2UgZW50ZXIgcHJvZHVjdCBwcmljZVwiXSxcbiAgfSxcbiAgaW1hZ2VzOiBbXG4gICAge1xuICAgICAgcHVibGljX2lkOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIH0sXG4gICAgICB1cmw6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgfSxcbiAgICB9LFxuICBdLFxuXG4gIGNhdGVnb3J5OiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIHJlcXVpcmVkOiBbdHJ1ZSwgXCJQbGVhc2UgZW50ZXIgcHJvZHVjdCBjYXRlZ29yeVwiXSxcbiAgICBlbnVtOiB7XG4gICAgICB2YWx1ZXM6IFtcbiAgICAgICAgXCJFbGVjdHJvbmljc1wiLFxuICAgICAgICBcIkNhbWVyYXNcIixcbiAgICAgICAgXCJMYXB0b3BzXCIsXG4gICAgICAgIFwiQWNjZXNzb3JpZXNcIixcbiAgICAgICAgXCJIZWFkcGhvbmVzXCIsXG4gICAgICAgIFwiU3BvcnRzXCIsXG4gICAgICBdLFxuICAgICAgbWVzc2FnZTogXCJQbGVhc2Ugc2VsZWN0IGNvcnJlY3QgY2F0ZWdvcnlcIixcbiAgICB9LFxuICB9LFxuICBzZWxsZXI6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgcmVxdWlyZWQ6IFt0cnVlLCBcIlBsZWFzZSBlbnRlciBwcm9kdWN0IHNlbGxlclwiXSxcbiAgfSxcbiAgc3RvY2s6IHtcbiAgICB0eXBlOiBOdW1iZXIsXG4gICAgcmVxdWlyZWQ6IFt0cnVlLCBcIlBsZWFzZSBlbnRlciBwcm9kdWN0IHN0b2NrXCJdLFxuICB9LFxuICByYXRpbmdzOiB7XG4gICAgdHlwZTogTnVtYmVyLFxuICAgIGRlZmF1bHQ6IDAsXG4gIH0sXG4gIHJldmlld3M6IFtcbiAgICB7XG4gICAgICB1c2VyOiB7XG4gICAgICAgIHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCxcbiAgICAgICAgcmVmOiBcIlVzZXJcIixcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICB9LFxuICAgICAgdXNlcm5hbWU6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICByZXF1aXJlZDogdHJ1ZVxuICAgICAgfSxcbiAgICAgIHVzZXJhdmF0YXI6IHtcbiAgICAgICAgcHVibGljX2lkOiBTdHJpbmcsXG4gICAgICAgIHVybDogU3RyaW5nLFxuICAgICAgfSxcbiAgICAgIHJhdGluZzoge1xuICAgICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgfSxcbiAgICAgIGNvbW1lbnQ6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgIH0sXG4gICAgICBjcmVhdGVkQXQ6IHtcbiAgICAgICAgdHlwZTogRGF0ZSxcbiAgICAgICAgZGVmYXVsdDogRGF0ZS5ub3csXG4gICAgICB9LFxuICAgIH0sXG4gIF0sXG4gIHVzZXI6IHtcbiAgICB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsXG4gICAgcmVmOiBcIlVzZXJcIixcbiAgICByZXF1aXJlZDogZmFsc2UsXG4gIH0sXG4gIGNyZWF0ZWRBdDoge1xuICAgIHR5cGU6IERhdGUsXG4gICAgZGVmYXVsdDogRGF0ZS5ub3csXG4gIH0sXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgbW9uZ29vc2UubW9kZWxzLlByb2R1Y3QgfHxcbiAgbW9uZ29vc2UubW9kZWwoXCJQcm9kdWN0XCIsIHByb2R1Y3RTY2hlbWEpO1xuIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwicHJvZHVjdFNjaGVtYSIsIlNjaGVtYSIsIm5hbWUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJkZXNjcmlwdGlvbiIsInByaWNlIiwiTnVtYmVyIiwiaW1hZ2VzIiwicHVibGljX2lkIiwidXJsIiwiY2F0ZWdvcnkiLCJlbnVtIiwidmFsdWVzIiwibWVzc2FnZSIsInNlbGxlciIsInN0b2NrIiwicmF0aW5ncyIsImRlZmF1bHQiLCJyZXZpZXdzIiwidXNlciIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJ1c2VybmFtZSIsInVzZXJhdmF0YXIiLCJyYXRpbmciLCJjb21tZW50IiwiY3JlYXRlZEF0IiwiRGF0ZSIsIm5vdyIsIm1vZGVscyIsIlByb2R1Y3QiLCJtb2RlbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./backend/models/product.js\n");

/***/ }),

/***/ "(api)/./backend/utils/APIFilters.js":
/*!*************************************!*\
  !*** ./backend/utils/APIFilters.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass APIFilters {\n    constructor(query, queryStr){\n        this.query = query;\n        this.queryStr = queryStr;\n    }\n    search() {\n        const keyword = this.queryStr.keyword ? {\n            name: {\n                $regex: this.queryStr.keyword,\n                $options: \"i\"\n            }\n        } : {};\n        this.query = this.query.find({\n            ...keyword\n        });\n        return this;\n    }\n    filter() {\n        const queryCopy = {\n            ...this.queryStr\n        };\n        const removeFields = [\n            \"keyword\",\n            \"page\"\n        ];\n        removeFields.forEach((el)=>delete queryCopy[el]);\n        let output = {};\n        let prop = \"\";\n        for(let key in queryCopy){\n            if (!key.match(/\\b(gt|gte|lt|lte)/)) {\n                output[key] = queryCopy[key];\n            } else {\n                prop = key.split(\"[\")[0];\n                let operator = key.match(/\\[(.*)\\]/)[1];\n                if (!output[prop]) {\n                    output[prop] = {};\n                }\n                output[prop][`$${operator}`] = queryCopy[key];\n            }\n        }\n        // { price: { $gte: 100, $lte: 1000 } }\n        this.query = this.query.find(output);\n        return this;\n    }\n    pagination(resPerPage) {\n        const currentPage = Number(this.queryStr.page) || 1;\n        const skip = resPerPage * (currentPage - 1);\n        this.query = this.query.limit(resPerPage).skip(skip);\n        return this;\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (APIFilters);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9iYWNrZW5kL3V0aWxzL0FQSUZpbHRlcnMuanMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE1BQU1BO0lBQ0pDLFlBQVlDLEtBQUssRUFBRUMsUUFBUSxDQUFFO1FBQzNCLElBQUksQ0FBQ0QsS0FBSyxHQUFHQTtRQUNiLElBQUksQ0FBQ0MsUUFBUSxHQUFHQTtJQUNsQjtJQUVBQyxTQUFTO1FBQ1AsTUFBTUMsVUFBVSxJQUFJLENBQUNGLFFBQVEsQ0FBQ0UsT0FBTyxHQUNqQztZQUNFQyxNQUFNO2dCQUNKQyxRQUFRLElBQUksQ0FBQ0osUUFBUSxDQUFDRSxPQUFPO2dCQUM3QkcsVUFBVTtZQUNaO1FBQ0YsSUFDQSxDQUFDLENBQUM7UUFFTixJQUFJLENBQUNOLEtBQUssR0FBRyxJQUFJLENBQUNBLEtBQUssQ0FBQ08sSUFBSSxDQUFDO1lBQUUsR0FBR0osT0FBTztRQUFDO1FBQzFDLE9BQU8sSUFBSTtJQUNiO0lBRUFLLFNBQVM7UUFDUCxNQUFNQyxZQUFZO1lBQUUsR0FBRyxJQUFJLENBQUNSLFFBQVE7UUFBQztRQUNyQyxNQUFNUyxlQUFlO1lBQUM7WUFBVztTQUFPO1FBQ3hDQSxhQUFhQyxPQUFPLENBQUMsQ0FBQ0MsS0FBTyxPQUFPSCxTQUFTLENBQUNHLEdBQUc7UUFFakQsSUFBSUMsU0FBUyxDQUFDO1FBQ2QsSUFBSUMsT0FBTztRQUVYLElBQUssSUFBSUMsT0FBT04sVUFBVztZQUN6QixJQUFJLENBQUNNLElBQUlDLEtBQUssQ0FBQyxzQkFBc0I7Z0JBQ25DSCxNQUFNLENBQUNFLElBQUksR0FBR04sU0FBUyxDQUFDTSxJQUFJO1lBQzlCLE9BQU87Z0JBQ0xELE9BQU9DLElBQUlFLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRTtnQkFDeEIsSUFBSUMsV0FBV0gsSUFBSUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxFQUFFO2dCQUN2QyxJQUFJLENBQUNILE1BQU0sQ0FBQ0MsS0FBSyxFQUFFO29CQUNqQkQsTUFBTSxDQUFDQyxLQUFLLEdBQUcsQ0FBQztnQkFDbEIsQ0FBQztnQkFFREQsTUFBTSxDQUFDQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUVJLFNBQVMsQ0FBQyxDQUFDLEdBQUdULFNBQVMsQ0FBQ00sSUFBSTtZQUMvQyxDQUFDO1FBQ0g7UUFDQSx1Q0FBdUM7UUFDdkMsSUFBSSxDQUFDZixLQUFLLEdBQUcsSUFBSSxDQUFDQSxLQUFLLENBQUNPLElBQUksQ0FBQ007UUFDN0IsT0FBTyxJQUFJO0lBQ2I7SUFFQU0sV0FBV0MsVUFBVSxFQUFFO1FBQ3JCLE1BQU1DLGNBQWNDLE9BQU8sSUFBSSxDQUFDckIsUUFBUSxDQUFDc0IsSUFBSSxLQUFLO1FBQ2xELE1BQU1DLE9BQU9KLGFBQWNDLENBQUFBLGNBQWM7UUFDekMsSUFBSSxDQUFDckIsS0FBSyxHQUFHLElBQUksQ0FBQ0EsS0FBSyxDQUFDeUIsS0FBSyxDQUFDTCxZQUFZSSxJQUFJLENBQUNBO1FBQy9DLE9BQU8sSUFBSTtJQUNiO0FBQ0Y7QUFFQSxpRUFBZTFCLFVBQVVBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9idXRpdG5vdy8uL2JhY2tlbmQvdXRpbHMvQVBJRmlsdGVycy5qcz84MWQ4Il0sInNvdXJjZXNDb250ZW50IjpbImNsYXNzIEFQSUZpbHRlcnMge1xuICBjb25zdHJ1Y3RvcihxdWVyeSwgcXVlcnlTdHIpIHtcbiAgICB0aGlzLnF1ZXJ5ID0gcXVlcnk7XG4gICAgdGhpcy5xdWVyeVN0ciA9IHF1ZXJ5U3RyO1xuICB9XG5cbiAgc2VhcmNoKCkge1xuICAgIGNvbnN0IGtleXdvcmQgPSB0aGlzLnF1ZXJ5U3RyLmtleXdvcmRcbiAgICAgID8ge1xuICAgICAgICAgIG5hbWU6IHtcbiAgICAgICAgICAgICRyZWdleDogdGhpcy5xdWVyeVN0ci5rZXl3b3JkLFxuICAgICAgICAgICAgJG9wdGlvbnM6IFwiaVwiLFxuICAgICAgICAgIH0sXG4gICAgICAgIH1cbiAgICAgIDoge307XG5cbiAgICB0aGlzLnF1ZXJ5ID0gdGhpcy5xdWVyeS5maW5kKHsgLi4ua2V5d29yZCB9KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGZpbHRlcigpIHtcbiAgICBjb25zdCBxdWVyeUNvcHkgPSB7IC4uLnRoaXMucXVlcnlTdHIgfTtcbiAgICBjb25zdCByZW1vdmVGaWVsZHMgPSBbXCJrZXl3b3JkXCIsIFwicGFnZVwiXTtcbiAgICByZW1vdmVGaWVsZHMuZm9yRWFjaCgoZWwpID0+IGRlbGV0ZSBxdWVyeUNvcHlbZWxdKTtcblxuICAgIGxldCBvdXRwdXQgPSB7fTtcbiAgICBsZXQgcHJvcCA9IFwiXCI7XG5cbiAgICBmb3IgKGxldCBrZXkgaW4gcXVlcnlDb3B5KSB7XG4gICAgICBpZiAoIWtleS5tYXRjaCgvXFxiKGd0fGd0ZXxsdHxsdGUpLykpIHtcbiAgICAgICAgb3V0cHV0W2tleV0gPSBxdWVyeUNvcHlba2V5XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByb3AgPSBrZXkuc3BsaXQoXCJbXCIpWzBdO1xuICAgICAgICBsZXQgb3BlcmF0b3IgPSBrZXkubWF0Y2goL1xcWyguKilcXF0vKVsxXTtcbiAgICAgICAgaWYgKCFvdXRwdXRbcHJvcF0pIHtcbiAgICAgICAgICBvdXRwdXRbcHJvcF0gPSB7fTtcbiAgICAgICAgfVxuXG4gICAgICAgIG91dHB1dFtwcm9wXVtgJCR7b3BlcmF0b3J9YF0gPSBxdWVyeUNvcHlba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8geyBwcmljZTogeyAkZ3RlOiAxMDAsICRsdGU6IDEwMDAgfSB9XG4gICAgdGhpcy5xdWVyeSA9IHRoaXMucXVlcnkuZmluZChvdXRwdXQpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgcGFnaW5hdGlvbihyZXNQZXJQYWdlKSB7XG4gICAgY29uc3QgY3VycmVudFBhZ2UgPSBOdW1iZXIodGhpcy5xdWVyeVN0ci5wYWdlKSB8fCAxO1xuICAgIGNvbnN0IHNraXAgPSByZXNQZXJQYWdlICogKGN1cnJlbnRQYWdlIC0gMSk7XG4gICAgdGhpcy5xdWVyeSA9IHRoaXMucXVlcnkubGltaXQocmVzUGVyUGFnZSkuc2tpcChza2lwKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBBUElGaWx0ZXJzO1xuIl0sIm5hbWVzIjpbIkFQSUZpbHRlcnMiLCJjb25zdHJ1Y3RvciIsInF1ZXJ5IiwicXVlcnlTdHIiLCJzZWFyY2giLCJrZXl3b3JkIiwibmFtZSIsIiRyZWdleCIsIiRvcHRpb25zIiwiZmluZCIsImZpbHRlciIsInF1ZXJ5Q29weSIsInJlbW92ZUZpZWxkcyIsImZvckVhY2giLCJlbCIsIm91dHB1dCIsInByb3AiLCJrZXkiLCJtYXRjaCIsInNwbGl0Iiwib3BlcmF0b3IiLCJwYWdpbmF0aW9uIiwicmVzUGVyUGFnZSIsImN1cnJlbnRQYWdlIiwiTnVtYmVyIiwicGFnZSIsInNraXAiLCJsaW1pdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./backend/utils/APIFilters.js\n");

/***/ }),

/***/ "(api)/./backend/utils/cloudinary.js":
/*!*************************************!*\
  !*** ./backend/utils/cloudinary.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"cloudinary\": () => (/* reexport default from dynamic */ cloudinary__WEBPACK_IMPORTED_MODULE_0___default.a),\n/* harmony export */   \"uploads\": () => (/* binding */ uploads)\n/* harmony export */ });\n/* harmony import */ var cloudinary__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! cloudinary */ \"cloudinary\");\n/* harmony import */ var cloudinary__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(cloudinary__WEBPACK_IMPORTED_MODULE_0__);\n\ncloudinary__WEBPACK_IMPORTED_MODULE_0___default().config({\n    cloud_name: \"dwj0vhfrl\",\n    api_key: \"586961345245574\",\n    api_secret: \"qz0UBJyGoBR4QXsdzV8g6Nenaq4\"\n});\nconst uploads = (file, folder)=>{\n    return new Promise((resolve, reject)=>{\n        cloudinary__WEBPACK_IMPORTED_MODULE_0___default().uploader.upload(file, (result)=>{\n            resolve({\n                public_id: result.public_id,\n                url: result.url\n            });\n        }, {\n            resource_type: \"auto\",\n            folder: folder\n        });\n    });\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9iYWNrZW5kL3V0aWxzL2Nsb3VkaW5hcnkuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFvQztBQUVwQ0Esd0RBQWlCLENBQUM7SUFDaEJFLFlBQVlDLFdBQXNCO0lBQ2xDRyxTQUFTSCxpQkFBOEI7SUFDdkNLLFlBQVlMLDZCQUFpQztBQUMvQztBQUVBLE1BQU1PLFVBQVUsQ0FBQ0MsTUFBTUMsU0FBVztJQUNoQyxPQUFPLElBQUlDLFFBQVEsQ0FBQ0MsU0FBU0MsU0FBVztRQUN0Q2YsaUVBQTBCLENBQ3hCVyxNQUNBLENBQUNPLFNBQVc7WUFDVkosUUFBUTtnQkFDTkssV0FBV0QsT0FBT0MsU0FBUztnQkFDM0JDLEtBQUtGLE9BQU9FLEdBQUc7WUFDakI7UUFDRixHQUVBO1lBQ0VDLGVBQWU7WUFDZlQsUUFBUUE7UUFDVjtJQUVKO0FBQ0Y7QUFFK0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9idXRpdG5vdy8uL2JhY2tlbmQvdXRpbHMvY2xvdWRpbmFyeS5qcz9kNDk5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjbG91ZGluYXJ5IGZyb20gXCJjbG91ZGluYXJ5XCI7XG5cbmNsb3VkaW5hcnkuY29uZmlnKHtcbiAgY2xvdWRfbmFtZTogcHJvY2Vzcy5lbnYuQ0xPVURfTkFNRSxcbiAgYXBpX2tleTogcHJvY2Vzcy5lbnYuQ0xPVURJTkFSWV9BUElfS0VZLFxuICBhcGlfc2VjcmV0OiBwcm9jZXNzLmVudi5DTE9VRElOQVJZX0FQSV9TRUNSRVQsXG59KTtcblxuY29uc3QgdXBsb2FkcyA9IChmaWxlLCBmb2xkZXIpID0+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjbG91ZGluYXJ5LnVwbG9hZGVyLnVwbG9hZChcbiAgICAgIGZpbGUsXG4gICAgICAocmVzdWx0KSA9PiB7XG4gICAgICAgIHJlc29sdmUoe1xuICAgICAgICAgIHB1YmxpY19pZDogcmVzdWx0LnB1YmxpY19pZCxcbiAgICAgICAgICB1cmw6IHJlc3VsdC51cmwsXG4gICAgICAgIH0pO1xuICAgICAgfSxcblxuICAgICAge1xuICAgICAgICByZXNvdXJjZV90eXBlOiBcImF1dG9cIixcbiAgICAgICAgZm9sZGVyOiBmb2xkZXIsXG4gICAgICB9XG4gICAgKTtcbiAgfSk7XG59O1xuXG5leHBvcnQgeyB1cGxvYWRzLCBjbG91ZGluYXJ5IH07Il0sIm5hbWVzIjpbImNsb3VkaW5hcnkiLCJjb25maWciLCJjbG91ZF9uYW1lIiwicHJvY2VzcyIsImVudiIsIkNMT1VEX05BTUUiLCJhcGlfa2V5IiwiQ0xPVURJTkFSWV9BUElfS0VZIiwiYXBpX3NlY3JldCIsIkNMT1VESU5BUllfQVBJX1NFQ1JFVCIsInVwbG9hZHMiLCJmaWxlIiwiZm9sZGVyIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJ1cGxvYWRlciIsInVwbG9hZCIsInJlc3VsdCIsInB1YmxpY19pZCIsInVybCIsInJlc291cmNlX3R5cGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./backend/utils/cloudinary.js\n");

/***/ }),

/***/ "(api)/./backend/utils/errorHandler.js":
/*!***************************************!*\
  !*** ./backend/utils/errorHandler.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass ErrorHandler extends Error {\n    constructor(message, statusCode){\n        super(message);\n        this.statusCode = statusCode;\n        Error.captureStackTrace(this, this.constructor);\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ErrorHandler);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9iYWNrZW5kL3V0aWxzL2Vycm9ySGFuZGxlci5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsTUFBTUEscUJBQXFCQztJQUN6QkMsWUFBWUMsT0FBTyxFQUFFQyxVQUFVLENBQUU7UUFDL0IsS0FBSyxDQUFDRDtRQUNOLElBQUksQ0FBQ0MsVUFBVSxHQUFHQTtRQUVsQkgsTUFBTUksaUJBQWlCLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQ0gsV0FBVztJQUNoRDtBQUNGO0FBRUEsaUVBQWVGLFlBQVlBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9idXRpdG5vdy8uL2JhY2tlbmQvdXRpbHMvZXJyb3JIYW5kbGVyLmpzPzY0NzEiXSwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgRXJyb3JIYW5kbGVyIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlLCBzdGF0dXNDb2RlKSB7XG4gICAgc3VwZXIobWVzc2FnZSk7XG4gICAgdGhpcy5zdGF0dXNDb2RlID0gc3RhdHVzQ29kZTtcblxuICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIHRoaXMuY29uc3RydWN0b3IpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEVycm9ySGFuZGxlcjtcbiJdLCJuYW1lcyI6WyJFcnJvckhhbmRsZXIiLCJFcnJvciIsImNvbnN0cnVjdG9yIiwibWVzc2FnZSIsInN0YXR1c0NvZGUiLCJjYXB0dXJlU3RhY2tUcmFjZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./backend/utils/errorHandler.js\n");

/***/ }),

/***/ "(api)/./pages/api/products/index.js":
/*!*************************************!*\
  !*** ./pages/api/products/index.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var next_connect__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-connect */ \"next-connect\");\n/* harmony import */ var next_connect__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_connect__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _backend_config_dbConnect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/backend/config/dbConnect */ \"(api)/./backend/config/dbConnect.js\");\n/* harmony import */ var _backend_controllers_productControllers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/backend/controllers/productControllers */ \"(api)/./backend/controllers/productControllers.js\");\n/* harmony import */ var _backend_middlewares_errors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/backend/middlewares/errors */ \"(api)/./backend/middlewares/errors.js\");\n\n\n\n\nconst handler = next_connect__WEBPACK_IMPORTED_MODULE_0___default()({\n    onError: _backend_middlewares_errors__WEBPACK_IMPORTED_MODULE_3__[\"default\"]\n});\n(0,_backend_config_dbConnect__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\nhandler.get(_backend_controllers_productControllers__WEBPACK_IMPORTED_MODULE_2__.getProducts);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (handler);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvcHJvZHVjdHMvaW5kZXguanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQThCO0FBQ3FCO0FBSUQ7QUFDQztBQUVuRCxNQUFNSSxVQUFVSixtREFBRUEsQ0FBQztJQUFFRyxPQUFPQSxxRUFBQUE7QUFBQztBQUU3QkYscUVBQVNBO0FBRVRHLFFBQVFDLEdBQUcsQ0FBQ0gsZ0ZBQVdBO0FBR3ZCLGlFQUFlRSxPQUFPQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnV0aXRub3cvLi9wYWdlcy9hcGkvcHJvZHVjdHMvaW5kZXguanM/NTk3MyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbmMgZnJvbSBcIm5leHQtY29ubmVjdFwiO1xuaW1wb3J0IGRiQ29ubmVjdCBmcm9tIFwiQC9iYWNrZW5kL2NvbmZpZy9kYkNvbm5lY3RcIjtcbmltcG9ydCB7XG4gIGdldFByb2R1Y3RzLFxuXG59IGZyb20gXCJAL2JhY2tlbmQvY29udHJvbGxlcnMvcHJvZHVjdENvbnRyb2xsZXJzXCI7XG5pbXBvcnQgb25FcnJvciBmcm9tIFwiQC9iYWNrZW5kL21pZGRsZXdhcmVzL2Vycm9yc1wiO1xuXG5jb25zdCBoYW5kbGVyID0gbmMoeyBvbkVycm9yIH0pO1xuXG5kYkNvbm5lY3QoKTtcblxuaGFuZGxlci5nZXQoZ2V0UHJvZHVjdHMpO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGhhbmRsZXI7XG4iXSwibmFtZXMiOlsibmMiLCJkYkNvbm5lY3QiLCJnZXRQcm9kdWN0cyIsIm9uRXJyb3IiLCJoYW5kbGVyIiwiZ2V0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/products/index.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./pages/api/products/index.js"));
module.exports = __webpack_exports__;

})();